<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>策略模式</title>
</head>
<body>
  <script>
    /*
      绩效为S的人年终奖有4倍工资，绩效为 A 的人年终奖有3倍工资，而绩效为 B 的人年终奖是 2 倍工资。
    */ 
  //  function calculate(level, salary) {
  //    switch(level) {
  //      case 'S': return salary * 4
  //      break;
  //      case 'A': return salary * 3
  //      break;
  //      case 'B': return salary * 2
  //    }
  //  }
  //  console.log(calculate('S', 20000));
  // var pS = function () {}
  // pS.prototype.calculate = function (salary) {
  //   return salary * 4
  // }
  // var pA = function () {}
  // pA.prototype.calculate = function (salary) {
  //   return salary * 3
  // }
  // var pB = function () {}
  // pB.prototype.calculate = function (salary) {
  //   return salary * 2
  // }
  // var Bouns = function () {
  //   this.salary = null // 初始薪水
  //   this.strategy = null // 绩效等级
  // }
  // Bouns.prototype.setSalary = function (salary) {
  //   this.salary = salary
  // }
  // Bouns.prototype.setStrategy = function (strategy) {
  //   // 保存实例对象
  //   this.strategy = strategy
  // }
  // Bouns.prototype.getBouns = function () {
  //   return this.strategy.calculate(this.salary)
  // }
  // var bouns = new Bouns()
  // bouns.setSalary(20000)
  // bouns.setStrategy(new pS()) // 传入该绩效人的实例
  // console.log(bouns.getBouns());

  // 函数也是对象

  var strategies = {
    "S": function (salary) {
      return salary * 4
    },
    "A": function (salary) {
      return salary * 3
    },
    "B": function (salary) {
      return salary * 2
    }
  }
  var getBouns = function (level, salary) {
    return strategies[level](salary)
  }
  console.log(strategies.S(20000));
  console.log(getBouns('S', 20000));
  </script>
</body>
</html>