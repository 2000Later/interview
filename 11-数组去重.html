<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var arr = [1, 3, 3, 5, 4, 1, 23, 21, 23];
      // 计算数组中元素出现的次数
      function arrayCount(arr) {
        let data = {};
        arr.forEach((v) => {
          data[v] ? data[v]++ : (data[v] = 1);
          // v in data ? data[v]++ : (data[v] = 1);
        });
        return data;
      }
      console.log(arrayCount(arr));
      // 方法一：使用set结构
      console.log([...new Set(arr)]);

      // 方法二：遍历，将没有出现过的保存
      function unique(arr) {
        let res = [];
        let set = {};
        arr.forEach((v) => void (set[v] || ((set[v] = true), res.push(v))));
        return res;
      }
      console.log(unique(arr));

      // 方法三：使用reduce+includes会有两次遍历
      function unique2(arr) {
        return arr.reduce((pre, cur) => {
          if (!pre.includes(cur)) {
            pre.push(cur);
          }
          return pre;
        }, []);
      }
      console.log(unique2(arr));
    </script>
  </body>
</html>
